{"ast":null,"code":"import axios from \"axios\";\nexport class ApiManager {\n  static async get(url, params) {\n    try {\n      let {\n        data,\n        headers\n      } = await axios.get(`${process.env.REACT_APP_API_URL}/api${url}`, {\n        params,\n        withCredentials: true\n      });\n      if (headers[\"x-session-id\"] && headers[\"x-session-id\"] !== sessionStorage.getItem(\"sessionId\")) sessionStorage.setItem(\"sessionId\", headers[\"x-session-id\"]);\n      return data;\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async post(url, body) {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async put(url, body) {\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async delete(url) {\n    try {\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api${url}`);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n}","map":{"version":3,"names":["axios","ApiManager","get","url","params","data","headers","process","env","REACT_APP_API_URL","withCredentials","sessionStorage","getItem","setItem","error","response","console","status","post","body","put","delete"],"sources":["D:/BSTU/practica/PWI/Lab16/react/src/util/api.manager.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport class ApiManager {\n\n    static async get(url: string, params?: any) {\n        try {\n            let {data, headers} = await axios.get(`${process.env.REACT_APP_API_URL}/api${url}`, {\n                params,\n                withCredentials: true\n            });\n            if (headers[\"x-session-id\"] && headers[\"x-session-id\"] !== sessionStorage.getItem(\"sessionId\"))\n                sessionStorage.setItem(\"sessionId\", headers[\"x-session-id\"]);\n            return data;\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async post(url: string, body?: any) {\n        try {\n            await axios.post(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async put(url: string, body?: any) {\n        try {\n            await axios.put(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async delete(url: string) {\n        try {\n            await axios.delete(`${process.env.REACT_APP_API_URL}/api${url}`);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,CAAC;EAEpB,aAAaC,GAAGA,CAACC,GAAW,EAAEC,MAAY,EAAE;IACxC,IAAI;MACA,IAAI;QAACC,IAAI;QAAEC;MAAO,CAAC,GAAG,MAAMN,KAAK,CAACE,GAAG,CAAE,GAAEK,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAE;QAChFC,MAAM;QACNM,eAAe,EAAE;MACrB,CAAC,CAAC;MACF,IAAIJ,OAAO,CAAC,cAAc,CAAC,IAAIA,OAAO,CAAC,cAAc,CAAC,KAAKK,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,EAC1FD,cAAc,CAACE,OAAO,CAAC,WAAW,EAAEP,OAAO,CAAC,cAAc,CAAC,CAAC;MAChE,OAAOD,IAAI;IACf,CAAC,CAAC,OAAOS,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdC,OAAO,CAACF,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACE,MAAO,EAAC,EAAEH,KAAK,CAACC,QAAQ,CAACV,IAAI,CAAC,CAAC,KACpE,MAAMS,KAAK;IACpB;EACJ;EAEA,aAAaI,IAAIA,CAACf,GAAW,EAAEgB,IAAU,EAAE;IACvC,IAAI;MACA,MAAMnB,KAAK,CAACkB,IAAI,CAAE,GAAEX,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAEgB,IAAI,CAAC;IACxE,CAAC,CAAC,OAAOL,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdC,OAAO,CAACF,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACE,MAAO,EAAC,EAAEH,KAAK,CAACC,QAAQ,CAACV,IAAI,CAAC,CAAC,KACpE,MAAMS,KAAK;IACpB;EACJ;EAEA,aAAaM,GAAGA,CAACjB,GAAW,EAAEgB,IAAU,EAAE;IACtC,IAAI;MACA,MAAMnB,KAAK,CAACoB,GAAG,CAAE,GAAEb,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAEgB,IAAI,CAAC;IACvE,CAAC,CAAC,OAAOL,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdC,OAAO,CAACF,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACE,MAAO,EAAC,EAAEH,KAAK,CAACC,QAAQ,CAACV,IAAI,CAAC,CAAC,KACpE,MAAMS,KAAK;IACpB;EACJ;EAEA,aAAaO,MAAMA,CAAClB,GAAW,EAAE;IAC7B,IAAI;MACA,MAAMH,KAAK,CAACqB,MAAM,CAAE,GAAEd,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,CAAC;IACpE,CAAC,CAAC,OAAOW,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdC,OAAO,CAACF,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACE,MAAO,EAAC,EAAEH,KAAK,CAACC,QAAQ,CAACV,IAAI,CAAC,CAAC,KACpE,MAAMS,KAAK;IACpB;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}