{"ast":null,"code":"import _regeneratorRuntime from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function WsrefFormComponent(_ref){var wsref=_ref.wsref,insertWsref=_ref.insertWsref,updateWsref=_ref.updateWsref,onClose=_ref.onClose;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];useEffect(function(){if(wsref){setUrl(wsref.url);setDescription(wsref.description);}},[wsref]);return/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"input\",{name:\"url\",value:url,placeholder:\"http://url-useful-website-reference\",onChange:function onChange(e){return setUrl(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"description\",value:description,placeholder:\"key-word, key-word, ...\",onChange:function onChange(e){return setDescription(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!wsref&&insertWsref)){_context.next=4;break;}_context.next=3;return insertWsref({url:url,description:description});case 3:onClose();case 4:if(!(wsref&&updateWsref)){_context.next=8;break;}_context.next=7;return updateWsref({url:url,description:description});case 7:onClose();case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:\"OK\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){onClose();},children:\"Cancel\"})]})]});}","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","WsrefFormComponent","_ref","wsref","insertWsref","updateWsref","onClose","_useState","_useState2","_slicedToArray","url","setUrl","_useState3","_useState4","description","setDescription","children","className","name","value","placeholder","onChange","e","target","type","onClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments"],"sources":["D:/BSTU/practica/PWI/Lab16/react/src/components/wsref-form.component.tsx"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nexport function WsrefFormComponent({wsref, insertWsref, updateWsref, onClose}: {\n    wsref?: any,\n    insertWsref?: (wsrefDto: any) => Promise<any>,\n    updateWsref?: (wsrefDto: any) => Promise<any>,\n    onClose: () => void\n}) {\n    let [url, setUrl] = useState(\"\");\n    let [description, setDescription] = useState(\"\");\n    useEffect(() => {\n        if (wsref) {\n            setUrl(wsref.url);\n            setDescription(wsref.description);\n        }\n    }, [wsref]);\n    return (\n        <fieldset>\n            <div className={\"flex\"}>\n                <input name={\"url\"} value={url} placeholder={\"http://url-useful-website-reference\"}\n                       onChange={(e: any) => setUrl(e.target.value)}/>\n            </div>\n            <div>\n                <input name={\"description\"} value={description} placeholder={\"key-word, key-word, ...\"}\n                       onChange={(e: any) => setDescription(e.target.value)}/>\n            </div>\n            <div>\n                <button type={\"button\"} onClick={async (e: any) => {\n                    if (!wsref && insertWsref) {\n                        await insertWsref({\n                            url,\n                            description\n                        });\n                        onClose();\n                    }\n                    if (wsref && updateWsref) {\n                        await updateWsref({\n                            url,\n                            description\n                        });\n                        onClose();\n                    }\n                }}>OK\n                </button>\n                <button type={\"button\"} onClick={(e: any) => {\n                    onClose();\n                }}>Cancel\n                </button>\n            </div>\n        </fieldset>\n    );\n}"],"mappings":"kXAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAK/B,IALiC,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CAAEC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CAMxE,IAAAC,SAAA,CAAoBX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3BG,GAAG,CAAAF,UAAA,IAAEG,MAAM,CAAAH,UAAA,IAChB,IAAAI,UAAA,CAAoChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAChClB,SAAS,CAAC,UAAM,CACZ,GAAIQ,KAAK,CAAE,CACPQ,MAAM,CAACR,KAAK,CAACO,GAAG,CAAC,CACjBK,cAAc,CAACZ,KAAK,CAACW,WAAW,CAAC,CACrC,CACJ,CAAC,CAAE,CAACX,KAAK,CAAC,CAAC,CACX,mBACIH,KAAA,aAAAgB,QAAA,eACIlB,IAAA,QAAKmB,SAAS,CAAE,MAAO,CAAAD,QAAA,cACnBlB,IAAA,UAAOoB,IAAI,CAAE,KAAM,CAACC,KAAK,CAAET,GAAI,CAACU,WAAW,CAAE,qCAAsC,CAC5EC,QAAQ,CAAE,SAAAA,SAACC,CAAM,QAAK,CAAAX,MAAM,CAACW,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CAAC,CAAC,CACrD,CAAC,cACNrB,IAAA,QAAAkB,QAAA,cACIlB,IAAA,UAAOoB,IAAI,CAAE,aAAc,CAACC,KAAK,CAAEL,WAAY,CAACM,WAAW,CAAE,yBAA0B,CAChFC,QAAQ,CAAE,SAAAA,SAACC,CAAM,QAAK,CAAAP,cAAc,CAACO,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CAAC,CAAC,CAC7D,CAAC,cACNnB,KAAA,QAAAgB,QAAA,eACIlB,IAAA,WAAQ0B,IAAI,CAAE,QAAS,CAACC,OAAO,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOR,CAAM,SAAAM,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cACtC,CAAChC,KAAK,EAAIC,WAAW,GAAA6B,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACf,CAAA/B,WAAW,CAAC,CACdM,GAAG,CAAHA,GAAG,CACHI,WAAW,CAAXA,WACJ,CAAC,CAAC,QACFR,OAAO,CAAC,CAAC,CAAC,YAEVH,KAAK,EAAIE,WAAW,GAAA4B,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACd,CAAA9B,WAAW,CAAC,CACdK,GAAG,CAAHA,GAAG,CACHI,WAAW,CAAXA,WACJ,CAAC,CAAC,QACFR,OAAO,CAAC,CAAC,CAAC,wBAAA2B,QAAA,CAAAG,IAAA,MAAAN,OAAA,GAEjB,mBAAAO,EAAA,SAAAX,KAAA,CAAAY,KAAA,MAAAC,SAAA,OAAC,CAAAvB,QAAA,CAAC,IACH,CAAQ,CAAC,cACTlB,IAAA,WAAQ0B,IAAI,CAAE,QAAS,CAACC,OAAO,CAAE,SAAAA,QAACH,CAAM,CAAK,CACzChB,OAAO,CAAC,CAAC,CACb,CAAE,CAAAU,QAAA,CAAC,QACH,CAAQ,CAAC,EACR,CAAC,EACA,CAAC,CAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}