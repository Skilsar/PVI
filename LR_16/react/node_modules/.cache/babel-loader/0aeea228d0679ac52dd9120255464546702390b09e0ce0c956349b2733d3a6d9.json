{"ast":null,"code":"import _regeneratorRuntime from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/BSTU/practica/PWI/Lab16/react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function WsrefCommentFormComponent(_ref){var wsrefId=_ref.wsrefId,wsrefComment=_ref.wsrefComment,insertWsrefComment=_ref.insertWsrefComment,updateWsrefComment=_ref.updateWsrefComment,onClose=_ref.onClose;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),comtext=_useState2[0],setComtext=_useState2[1];useEffect(function(){if(wsrefComment){setComtext(wsrefComment.comtext);}},[wsrefComment]);return/*#__PURE__*/_jsxs(\"div\",{children:[wsrefComment&&updateWsrefComment?\"update\":null,/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"comtext\",value:comtext,onChange:function onChange(e){return setComtext(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!wsrefComment&&insertWsrefComment)){_context.next=4;break;}_context.next=3;return insertWsrefComment({wsrefId:wsrefId,comtext:comtext});case 3:onClose();case 4:if(!(wsrefComment&&updateWsrefComment)){_context.next=8;break;}_context.next=7;return updateWsrefComment({comtext:comtext});case 7:onClose();case 8:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:\"OK\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){onClose();},children:\"Cancel\"})]})]});}","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","WsrefCommentFormComponent","_ref","wsrefId","wsrefComment","insertWsrefComment","updateWsrefComment","onClose","_useState","_useState2","_slicedToArray","comtext","setComtext","children","className","name","value","onChange","e","target","type","onClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments"],"sources":["D:/BSTU/practica/PWI/Lab16/react/src/components/wsref-comment-form.component.tsx"],"sourcesContent":["import {useEffect, useState} from \"react\";\n\nexport function WsrefCommentFormComponent({wsrefId, wsrefComment, insertWsrefComment, updateWsrefComment, onClose}: {\n    wsrefId?: number,\n    wsrefComment?: any,\n    insertWsrefComment?: (wsrefCommentDto: any) => Promise<any>,\n    updateWsrefComment?: (wsrefCommentDto: any) => Promise<any>,\n    onClose: () => void\n}) {\n    let [comtext, setComtext] = useState(\"\");\n    useEffect(() => {\n        if (wsrefComment) {\n            setComtext(wsrefComment.comtext);\n        }\n    }, [wsrefComment]);\n    return (\n        <div>\n            {wsrefComment && updateWsrefComment ? \"update\" : null}\n            <div className={\"flex\"}>\n                <textarea name={\"comtext\"} value={comtext} onChange={(e: any) => setComtext(e.target.value)}/>\n            </div>\n            <div>\n                <button type={\"button\"} onClick={async (e: any) => {\n                    if (!wsrefComment && insertWsrefComment) {\n                        await insertWsrefComment({\n                            wsrefId,\n                            comtext\n                        });\n                        onClose();\n                    }\n                    if (wsrefComment && updateWsrefComment) {\n                        await updateWsrefComment({\n                            comtext\n                        });\n                        onClose();\n                    }\n                }}>OK\n                </button>\n                <button type={\"button\"} onClick={(e: any) => {\n                    onClose();\n                }}>Cancel\n                </button>\n            </div>\n        </div>\n    );\n}"],"mappings":"kXAAA,OAAQA,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,SAAS,CAAAC,yBAAyBA,CAAAC,IAAA,CAMtC,IANwC,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,YAAY,CAAAF,IAAA,CAAZE,YAAY,CAAEC,kBAAkB,CAAAH,IAAA,CAAlBG,kBAAkB,CAAEC,kBAAkB,CAAAJ,IAAA,CAAlBI,kBAAkB,CAAEC,OAAO,CAAAL,IAAA,CAAPK,OAAO,CAO7G,IAAAC,SAAA,CAA4BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IACxBd,SAAS,CAAC,UAAM,CACZ,GAAIS,YAAY,CAAE,CACdQ,UAAU,CAACR,YAAY,CAACO,OAAO,CAAC,CACpC,CACJ,CAAC,CAAE,CAACP,YAAY,CAAC,CAAC,CAClB,mBACIJ,KAAA,QAAAa,QAAA,EACKT,YAAY,EAAIE,kBAAkB,CAAG,QAAQ,CAAG,IAAI,cACrDR,IAAA,QAAKgB,SAAS,CAAE,MAAO,CAAAD,QAAA,cACnBf,IAAA,aAAUiB,IAAI,CAAE,SAAU,CAACC,KAAK,CAAEL,OAAQ,CAACM,QAAQ,CAAE,SAAAA,SAACC,CAAM,QAAK,CAAAN,UAAU,CAACM,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAAC,CAAC,CAC7F,CAAC,cACNhB,KAAA,QAAAa,QAAA,eACIf,IAAA,WAAQsB,IAAI,CAAE,QAAS,CAACC,OAAO,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOR,CAAM,SAAAM,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,cACtC,CAAC3B,YAAY,EAAIC,kBAAkB,GAAAwB,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SAC7B,CAAA1B,kBAAkB,CAAC,CACrBF,OAAO,CAAPA,OAAO,CACPQ,OAAO,CAAPA,OACJ,CAAC,CAAC,QACFJ,OAAO,CAAC,CAAC,CAAC,YAEVH,YAAY,EAAIE,kBAAkB,GAAAuB,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SAC5B,CAAAzB,kBAAkB,CAAC,CACrBK,OAAO,CAAPA,OACJ,CAAC,CAAC,QACFJ,OAAO,CAAC,CAAC,CAAC,wBAAAsB,QAAA,CAAAG,IAAA,MAAAN,OAAA,GAEjB,mBAAAO,EAAA,SAAAX,KAAA,CAAAY,KAAA,MAAAC,SAAA,OAAC,CAAAtB,QAAA,CAAC,IACH,CAAQ,CAAC,cACTf,IAAA,WAAQsB,IAAI,CAAE,QAAS,CAACC,OAAO,CAAE,SAAAA,QAACH,CAAM,CAAK,CACzCX,OAAO,CAAC,CAAC,CACb,CAAE,CAAAM,QAAA,CAAC,QACH,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}