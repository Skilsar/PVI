{"ast":null,"code":"import axios from \"axios\";\nexport class ApiManager {\n  static async get(url, params) {\n    try {\n      let {\n        data,\n        headers\n      } = await axios.get(`${process.env.REACT_APP_API_URL}/api${url}`, {\n        params,\n        withCredentials: true\n      });\n      console.log(headers[\"x-session-id\"]);\n      if (headers[\"x-session-id\"] && headers[\"x-session-id\"] !== sessionStorage.getItem(\"sessionId\")) sessionStorage.setItem(\"sessionId\", '1');\n      return data;\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async post(url, body) {\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async put(url, body) {\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n  static async delete(url) {\n    try {\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api${url}`);\n    } catch (error) {\n      if (error.response) console.error(`Error ${error.response.status}`, error.response.data);else throw error;\n    }\n  }\n}","map":{"version":3,"names":["axios","ApiManager","get","url","params","data","headers","process","env","REACT_APP_API_URL","withCredentials","console","log","sessionStorage","getItem","setItem","error","response","status","post","body","put","delete"],"sources":["D:/BSTU/practica/PWI/Lab16/react/src/util/api.manager.ts"],"sourcesContent":["import axios from \"axios\";\n\nexport class ApiManager {\n\n    static async get(url: string, params?: any) {\n        try {\n            let {data, headers} = await axios.get(`${process.env.REACT_APP_API_URL}/api${url}`, {\n                params,\n                withCredentials: true\n            });\n            console.log(headers[\"x-session-id\"]);\n            if (headers[\"x-session-id\"] && headers[\"x-session-id\"] !== sessionStorage.getItem(\"sessionId\"))\n                sessionStorage.setItem(\"sessionId\", '1');\n            return data;\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async post(url: string, body?: any) {\n        try {\n            await axios.post(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async put(url: string, body?: any) {\n        try {\n            await axios.put(`${process.env.REACT_APP_API_URL}/api${url}`, body);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n\n    static async delete(url: string) {\n        try {\n            await axios.delete(`${process.env.REACT_APP_API_URL}/api${url}`);\n        } catch (error: any) {\n            if (error.response)\n                console.error(`Error ${error.response.status}`, error.response.data);\n            else throw error;\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,CAAC;EAEpB,aAAaC,GAAGA,CAACC,GAAW,EAAEC,MAAY,EAAE;IACxC,IAAI;MACA,IAAI;QAACC,IAAI;QAAEC;MAAO,CAAC,GAAG,MAAMN,KAAK,CAACE,GAAG,CAAE,GAAEK,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAE;QAChFC,MAAM;QACNM,eAAe,EAAE;MACrB,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACN,OAAO,CAAC,cAAc,CAAC,CAAC;MACpC,IAAIA,OAAO,CAAC,cAAc,CAAC,IAAIA,OAAO,CAAC,cAAc,CAAC,KAAKO,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,EAC1FD,cAAc,CAACE,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;MAC5C,OAAOV,IAAI;IACf,CAAC,CAAC,OAAOW,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdN,OAAO,CAACK,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACC,MAAO,EAAC,EAAEF,KAAK,CAACC,QAAQ,CAACZ,IAAI,CAAC,CAAC,KACpE,MAAMW,KAAK;IACpB;EACJ;EAEA,aAAaG,IAAIA,CAAChB,GAAW,EAAEiB,IAAU,EAAE;IACvC,IAAI;MACA,MAAMpB,KAAK,CAACmB,IAAI,CAAE,GAAEZ,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAEiB,IAAI,CAAC;IACxE,CAAC,CAAC,OAAOJ,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdN,OAAO,CAACK,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACC,MAAO,EAAC,EAAEF,KAAK,CAACC,QAAQ,CAACZ,IAAI,CAAC,CAAC,KACpE,MAAMW,KAAK;IACpB;EACJ;EAEA,aAAaK,GAAGA,CAAClB,GAAW,EAAEiB,IAAU,EAAE;IACtC,IAAI;MACA,MAAMpB,KAAK,CAACqB,GAAG,CAAE,GAAEd,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,EAAEiB,IAAI,CAAC;IACvE,CAAC,CAAC,OAAOJ,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdN,OAAO,CAACK,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACC,MAAO,EAAC,EAAEF,KAAK,CAACC,QAAQ,CAACZ,IAAI,CAAC,CAAC,KACpE,MAAMW,KAAK;IACpB;EACJ;EAEA,aAAaM,MAAMA,CAACnB,GAAW,EAAE;IAC7B,IAAI;MACA,MAAMH,KAAK,CAACsB,MAAM,CAAE,GAAEf,OAAO,CAACC,GAAG,CAACC,iBAAkB,OAAMN,GAAI,EAAC,CAAC;IACpE,CAAC,CAAC,OAAOa,KAAU,EAAE;MACjB,IAAIA,KAAK,CAACC,QAAQ,EACdN,OAAO,CAACK,KAAK,CAAE,SAAQA,KAAK,CAACC,QAAQ,CAACC,MAAO,EAAC,EAAEF,KAAK,CAACC,QAAQ,CAACZ,IAAI,CAAC,CAAC,KACpE,MAAMW,KAAK;IACpB;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}