{"ast":null,"code":"var _jsxFileName = \"D:\\\\BSTU\\\\practica\\\\PWI\\\\Lab16\\\\react\\\\src\\\\components\\\\wsref-comment-info.component.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { WsrefCommentFormComponent } from \"./wsref-comment-form.component\";\nimport { RoleNames } from \"../util/role-names\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function WsrefCommentInfoComponent({\n  role,\n  wsrefComment,\n  updateWsrefComment,\n  deleteWsrefComment\n}) {\n  _s();\n  let [updating, setUpdating] = useState(false);\n  let [deleting, setDeleting] = useState(false);\n  let stamp = new Date(wsrefComment.stamp);\n  return /*#__PURE__*/_jsxDEV(\"fieldset\", {\n    children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n      children: [stamp.getFullYear(), \"-\", stamp.getMonth() + 1, \"-\", stamp.getDate(), \" \", stamp.getHours(), \":\", stamp.getMinutes(), \":\", stamp.getSeconds()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this), !updating && !deleting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", role === RoleNames.ADMIN || sessionStorage.getItem(\"sessionId\") === wsrefComment.sessionId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => setDeleting(true),\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => setUpdating(true),\n          children: \"update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          readOnly: true,\n          children: wsrefComment.comtext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true) : null, updating ? /*#__PURE__*/_jsxDEV(WsrefCommentFormComponent, {\n      wsrefComment: wsrefComment,\n      updateWsrefComment: async wsrefCommentDto => {\n        await updateWsrefComment(wsrefComment.id, wsrefCommentDto);\n        setUpdating(false);\n      },\n      onClose: () => setUpdating(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 25\n    }, this) : null, deleting ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"delete\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          readOnly: true,\n          children: wsrefComment.comtext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: async e => {\n            await deleteWsrefComment(wsrefComment.id);\n            setDeleting(false);\n          },\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => setDeleting(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 25\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this);\n}\n_s(WsrefCommentInfoComponent, \"mLSTff1v3MtEaa8SF9ICr9GQljM=\");\n_c = WsrefCommentInfoComponent;\nvar _c;\n$RefreshReg$(_c, \"WsrefCommentInfoComponent\");","map":{"version":3,"names":["useState","WsrefCommentFormComponent","RoleNames","jsxDEV","_jsxDEV","Fragment","_Fragment","WsrefCommentInfoComponent","role","wsrefComment","updateWsrefComment","deleteWsrefComment","_s","updating","setUpdating","deleting","setDeleting","stamp","Date","children","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","fileName","_jsxFileName","lineNumber","columnNumber","ADMIN","sessionStorage","getItem","sessionId","onClick","e","className","readOnly","comtext","wsrefCommentDto","id","onClose","_c","$RefreshReg$"],"sources":["D:/BSTU/practica/PWI/Lab16/react/src/components/wsref-comment-info.component.tsx"],"sourcesContent":["import {useState} from \"react\";\nimport {WsrefCommentFormComponent} from \"./wsref-comment-form.component\";\nimport {RoleNames} from \"../util/role-names\";\n\nexport function WsrefCommentInfoComponent({role, wsrefComment, updateWsrefComment, deleteWsrefComment}: {\n    role: RoleNames,\n    wsrefComment: any,\n    updateWsrefComment: (id: number, wsrefCommentDto: any) => Promise<any>,\n    deleteWsrefComment: (id: number) => Promise<any>\n}) {\n    let [updating, setUpdating] = useState(false);\n    let [deleting, setDeleting] = useState(false);\n    let stamp = new Date(wsrefComment.stamp);\n    return (\n        <fieldset>\n            <legend>{stamp.getFullYear()}-{stamp.getMonth() + 1}-{stamp.getDate()} {stamp.getHours()}:{stamp.getMinutes()}:{stamp.getSeconds()}</legend>\n            {!updating && !deleting ? <> {role === RoleNames.ADMIN || sessionStorage.getItem(\"sessionId\") === wsrefComment.sessionId ?\n                <div>\n                    <button onClick={(e: any) => setDeleting(true)}>delete</button>\n                    <button onClick={(e: any) => setUpdating(true)}>update</button>\n                </div> : null}\n                <div className={\"flex\"}>\n                    <textarea readOnly={true}>{wsrefComment.comtext}</textarea>\n                </div>\n            </> : null}\n            {updating ? <WsrefCommentFormComponent wsrefComment={wsrefComment}\n                                                   updateWsrefComment={async (wsrefCommentDto: any) => {\n                                                       await updateWsrefComment(wsrefComment.id, wsrefCommentDto);\n                                                       setUpdating(false);\n                                                   }} onClose={() => setUpdating(false)}/> : null}\n            {deleting ? <div>\n                delete\n                <div className={\"flex\"}>\n                    <textarea readOnly={true}>{wsrefComment.comtext}</textarea>\n                </div>\n                <div>\n                    <button onClick={async (e: any) => {\n                        await deleteWsrefComment(wsrefComment.id);\n                        setDeleting(false);\n                    }}>OK\n                    </button>\n                    <button onClick={(e: any) => setDeleting(false)}>Cancel</button>\n                </div>\n            </div> : null}\n        </fieldset>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}